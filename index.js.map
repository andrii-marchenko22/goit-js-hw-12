{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const KEY = \"49660989-ba495770243477578b97293ac\";\n\nexport const getImagesByQuery = async (query, page) => {\n    const searchParams = new URLSearchParams({\n        key: KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page, \n    })\n    \n    return await axios(`https://pixabay.com/api/?${searchParams}`);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst loadMore = document.querySelector(\".load-more-btn\");\n\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport const createGallery = (images) => {\n    const markup = images.map(\n        ({\n           id, \n           largeImageURL,\n           webformatURL,\n           tags,\n           likes,\n           views,\n           comments,\n           downloads,\n        }) =>\n        `\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n               <div class=\"gallery-item\" id=\"${id}\">\n                   <img class=\"gallery-item-img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                   <div class=\"info\">\n                       <p class=\"info-item\"><b>Likes </b>${likes}</p>\n                       <p class=\"info-item\"><b>Views </b>${views}</p>\n                       <p class=\"info-item\"><b>Comments </b>${comments}</p>\n                       <p class=\"info-item\"><b>Downloads </b>${downloads}</p>\n                   </div>\n               </div>\n           </a>\n       `).join('');\n    \n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n};\n\nexport const clearGallery = () => {\n    gallery.innerHTML = '';\n};\nexport const showLoader = () => {\n   loader.classList.add(\"show\");\n};\n\nexport const hideLoader = () => {\n   loader.classList.remove(\"show\"); \n};\n\nexport const showLoadMoreButton = () => {\n    loadMore.classList.add(\"load-more-show\");\n}\n\nexport const hideLoadMoreButton = () => {\n    loadMore.classList.remove(\"load-more-show\");\n}","import { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader, showLoadMoreButton, hideLoadMoreButton } from \"./js/render-functions.js\";\n// import { KEY } from \"./js/pixabay-api.js\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst btn = document.querySelector(\".btn-form\");\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    const userValue = event.target.elements['search-text'].value.trim();\n\n    if (!userValue) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query!',\n        });\n        return;\n    }\n\n    showLoader();\n    event.target.reset();\n\n    getImagesByQuery(userValue)\n        .then(response => {\n            hideLoader(); \n\n            clearGallery();\n\n            if (response.data.hits.length === 0) { \n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return;\n            }\n\n            createGallery(response.data.hits);\n            \n        })\n        .catch(error => {\n            hideLoader(); \n            iziToast.error({\n                title: 'Error',\n                message: 'There was an error fetching the images. Please try again later.',\n            });\n\n            \n        });\n});"],"names":["KEY","getImagesByQuery","query","page","searchParams","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","userValue","iziToast","response","error"],"mappings":"owBAEO,MAAMA,EAAM,qCAENC,EAAmB,MAAOC,EAAOC,IAAS,CACnD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,CACd,CAAK,EAED,OAAO,MAAME,EAAM,4BAA4BD,CAAY,EAAE,CACjE,ECZME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC9B,SAAS,cAAc,gBAAgB,EAGxD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,MAAMC,EAAiBC,GAAW,CACrC,MAAMC,EAASD,EAAO,IAClB,CAAC,CACE,GAAAE,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACD;AAAA,2CACmCN,CAAa;AAAA,+CACTD,CAAE;AAAA,wDACOE,CAAY,UAAUC,CAAI;AAAA;AAAA,2DAEvBC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA;AAAA;AAAA;AAAA,QAIhE,EAAE,KAAK,EAAE,EAEbd,EAAQ,mBAAmB,YAAaM,CAAM,EAE9CJ,EAAS,QAAO,CACpB,EAEaa,EAAe,IAAM,CAC9Bf,EAAQ,UAAY,EACxB,EACagB,EAAa,IAAM,CAC7Bf,EAAO,UAAU,IAAI,MAAM,CAC9B,EAEagB,EAAa,IAAM,CAC7BhB,EAAO,UAAU,OAAO,MAAM,CACjC,EC9CMiB,EAAO,SAAS,cAAc,OAAO,EAC/B,SAAS,cAAc,WAAW,EAE9CA,EAAK,iBAAiB,SAAUC,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAE7D,GAAI,CAACC,EAAW,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACH,CAEDL,IACAG,EAAM,OAAO,QAEbxB,EAAiByB,CAAS,EACrB,KAAKE,GAAY,CAKd,GAJAL,IAEAF,IAEIO,EAAS,KAAK,KAAK,SAAW,EAAG,CACjCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EACD,MACH,CAEDjB,EAAckB,EAAS,KAAK,IAAI,CAE5C,CAAS,EACA,MAAMC,GAAS,CACZN,IACAI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iEACzB,CAAa,CAGb,CAAS,CACT,CAAC"}